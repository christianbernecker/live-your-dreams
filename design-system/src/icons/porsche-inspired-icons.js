// LYD Design System - Porsche-Inspired Icon Library
// Hochwertige SVG Icons im Porsche Design System Stil

export const PORSCHE_INSPIRED_ICONS = {
  // Core Navigation Icons
  'home': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/>
    <polyline points="9,22 9,12 15,12 15,22"/>
  </svg>`,
  
  'building': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M6 22V4a2 2 0 012-2h8a2 2 0 012 2v18"/>
    <path d="M6 12h12"/>
    <path d="M6 8h12"/>
    <path d="M6 16h12"/>
    <path d="M10 6h4"/>
  </svg>`,
  
  'key': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="8" cy="8" r="6"/>
    <path d="M14.5 14.5L22 22"/>
    <path d="M18 18l-4-4"/>
  </svg>`,
  
  'calendar': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
    <line x1="16" y1="2" x2="16" y2="6"/>
    <line x1="8" y1="2" x2="8" y2="6"/>
    <line x1="3" y1="10" x2="21" y2="10"/>
  </svg>`,
  
  'edit': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M12 20h9"/>
    <path d="M16.5 3.5a2.121 2.121 0 113 3L7 19l-4 1 1-4L16.5 3.5z"/>
  </svg>`,
  
  'share': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="18" cy="5" r="3"/>
    <circle cx="6" cy="12" r="3"/>
    <circle cx="18" cy="19" r="3"/>
    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
  </svg>`,
  
  'delete': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="3,6 5,6 21,6"/>
    <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>
    <line x1="10" y1="11" x2="10" y2="17"/>
    <line x1="14" y1="11" x2="14" y2="17"/>
  </svg>`,
  
  'download': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
    <polyline points="7,10 12,15 17,10"/>
    <line x1="12" y1="15" x2="12" y2="3"/>
  </svg>`,
  
  'upload': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
    <polyline points="17,8 12,3 7,8"/>
    <line x1="12" y1="3" x2="12" y2="15"/>
  </svg>`,
  
  'heart': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"/>
  </svg>`,
  
  'star': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"/>
  </svg>`,
  
  'location': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
    <circle cx="12" cy="10" r="3"/>
  </svg>`,
  
  'phone': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z"/>
  </svg>`,
  
  'mail': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
    <polyline points="22,6 12,13 2,6"/>
  </svg>`,
  
  'search': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="11" cy="11" r="8"/>
    <path d="M21 21l-4.35-4.35"/>
  </svg>`,
  
  'settings': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="3"/>
    <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82v.07a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z"/>
  </svg>`,
  
  // Real Estate Premium Icons
  'euro': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M14 8.5a3.5 3.5 0 00-7 0v7a3.5 3.5 0 007 0"/>
    <line x1="6" y1="12" x2="14" y2="12"/>
    <line x1="6" y1="10" x2="14" y2="10"/>
  </svg>`,
  
  'area': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
    <path d="M9 9h6v6H9z"/>
    <path d="M3 3l18 18"/>
  </svg>`,
  
  'apartment': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M3 21h18"/>
    <path d="M5 21V7l7-4 7 4v14"/>
    <path d="M10 9h.01"/>
    <path d="M14 9h.01"/>
    <path d="M10 12h.01"/>
    <path d="M14 12h.01"/>
    <path d="M10 15h.01"/>
    <path d="M14 15h.01"/>
  </svg>`,
  
  'villa': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M3 21h18"/>
    <path d="M5 21V7l7-4 7 4v14"/>
    <path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/>
    <path d="M9 9h6"/>
  </svg>`,
  
  // Action Icons
  'plus': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <line x1="12" y1="5" x2="12" y2="19"/>
    <line x1="5" y1="12" x2="19" y2="12"/>
  </svg>`,
  
  'minus': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <line x1="5" y1="12" x2="19" y2="12"/>
  </svg>`,
  
  'check': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="20,6 9,17 4,12"/>
  </svg>`,
  
  'x': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <line x1="18" y1="6" x2="6" y2="18"/>
    <line x1="6" y1="6" x2="18" y2="18"/>
  </svg>`,
  
  'chevron-right': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="9,18 15,12 9,6"/>
  </svg>`,
  
  'chevron-down': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <polyline points="6,9 12,15 18,9"/>
  </svg>`,
  
  'more-horizontal': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="1"/>
    <circle cx="19" cy="12" r="1"/>
    <circle cx="5" cy="12" r="1"/>
  </svg>`,
  
  'more-vertical': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="1"/>
    <circle cx="12" cy="5" r="1"/>
    <circle cx="12" cy="19" r="1"/>
  </svg>`,
  
  'external-link': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/>
    <polyline points="15,3 21,3 21,9"/>
    <line x1="10" y1="14" x2="21" y2="3"/>
  </svg>`,
  
  'eye': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
    <circle cx="12" cy="12" r="3"/>
  </svg>`,
  
  'save': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"/>
    <polyline points="17,21 17,13 7,13 7,21"/>
    <polyline points="7,3 7,8 15,8"/>
  </svg>`,
  
  'copy': `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
    <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/>
  </svg>`
};

// Premium Download Button Component mit Loading-Animation
export class LydDownloadButton extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
    this._isDownloading = false;
    this._progress = 0;
  }
  
  static get observedAttributes() {
    return ['variant', 'size', 'disabled', 'file-name', 'file-size'];
  }
  
  connectedCallback() {
    this.render();
    this.setupEventListeners();
  }
  
  setupEventListeners() {
    const button = this.shadowRoot.querySelector('.download-btn');
    if (button) {
      button.addEventListener('click', () => this.startDownload());
    }
  }
  
  async startDownload() {
    if (this._isDownloading || this.hasAttribute('disabled')) return;
    
    this._isDownloading = true;
    this.render();
    
    // Simuliere Download-Progress
    for (let i = 0; i <= 100; i += 5) {
      this._progress = i;
      this.updateProgress();
      await new Promise(resolve => setTimeout(resolve, 100));
    }
    
    // Download abgeschlossen
    this._isDownloading = false;
    this._progress = 0;
    this.render();
    
    // Dispatch completion event
    this.dispatchEvent(new CustomEvent('download-complete', {
      detail: {
        fileName: this.getAttribute('file-name') || 'document.pdf',
        fileSize: this.getAttribute('file-size') || '2.5 MB'
      },
      bubbles: true
    }));
  }
  
  updateProgress() {
    const progressBar = this.shadowRoot.querySelector('.progress-bar');
    if (progressBar) {
      progressBar.style.width = `${this._progress}%`;
    }
  }
  
  render() {
    const variant = this.getAttribute('variant') || 'primary';
    const size = this.getAttribute('size') || 'medium';
    const fileName = this.getAttribute('file-name') || 'Property Exposé';
    const fileSize = this.getAttribute('file-size') || '2.5 MB';
    const isDisabled = this.hasAttribute('disabled');
    
    this.shadowRoot.innerHTML = `
      <style>
        :host {
          display: inline-block;
        }
        
        .download-btn {
          display: inline-flex;
          align-items: center;
          gap: 10px;
          padding: ${size === 'small' ? '8px 16px' : size === 'large' ? '16px 32px' : '12px 24px'};
          border-radius: 12px;
          font-size: ${size === 'small' ? '13px' : size === 'large' ? '16px' : '14px'};
          font-weight: 500;
          cursor: ${this._isDownloading || isDisabled ? 'not-allowed' : 'pointer'};
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
          border: none;
          min-height: ${size === 'small' ? '36px' : size === 'large' ? '52px' : '48px'};
          position: relative;
          overflow: hidden;
          backdrop-filter: blur(20px);
          font-family: -apple-system, BlinkMacSystemFont, 'Inter', system-ui, sans-serif;
          
          ${variant === 'primary' ? `
            background: linear-gradient(135deg, #000066 0%, #1e3a8a 50%, #3366CC 100%);
            color: white;
            box-shadow: 
              0 4px 20px rgba(0, 0, 102, 0.4),
              inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.15);
          ` : `
            background: rgba(255, 255, 255, 0.95);
            color: #3366CC;
            border: 2px solid #3366CC;
            backdrop-filter: blur(30px);
          `}
        }
        
        .download-btn:hover:not(:disabled) {
          transform: translateY(-2px) scale(1.02);
          ${variant === 'primary' ? `
            background: linear-gradient(135deg, #000052 0%, #1e40af 50%, #2952A3 100%);
            box-shadow: 
              0 8px 32px rgba(0, 0, 102, 0.6),
              inset 0 1px 0 rgba(255, 255, 255, 0.3);
          ` : `
            background: rgba(51, 102, 204, 0.05);
            box-shadow: 0 6px 20px rgba(51, 102, 204, 0.2);
          `}
        }
        
        .download-btn:disabled {
          opacity: 0.5;
          transform: none !important;
        }
        
        .btn-icon {
          width: 18px;
          height: 18px;
          transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .download-btn:hover .btn-icon {
          transform: scale(1.1) translateY(-1px);
        }
        
        .progress-container {
          position: absolute;
          bottom: 0;
          left: 0;
          right: 0;
          height: 3px;
          background: rgba(255, 255, 255, 0.2);
          overflow: hidden;
        }
        
        .progress-bar {
          height: 100%;
          background: linear-gradient(90deg, #00ff88, #00cc6a);
          width: 0%;
          transition: width 0.1s ease;
          box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
        }
        
        .download-info {
          font-size: 11px;
          opacity: 0.8;
          line-height: 1.2;
        }
        
        .spinner {
          width: 18px;
          height: 18px;
          border: 2px solid transparent;
          border-top: 2px solid currentColor;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      </style>
      
      <button class="download-btn" ${isDisabled || this._isDownloading ? 'disabled' : ''}>
        ${this._isDownloading ? `
          <div class="spinner"></div>
          <div>
            <div>Generating...</div>
            <div class="download-info">${this._progress}% complete</div>
          </div>
        ` : `
          <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
            <polyline points="7,10 12,15 17,10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          <div>
            <div>Download ${fileName}</div>
            <div class="download-info">${fileSize}</div>
          </div>
        `}
        
        ${this._isDownloading ? `
          <div class="progress-container">
            <div class="progress-bar"></div>
          </div>
        ` : ''}
      </button>
    `;
  }
}

customElements.define('lyd-download-button', LydDownloadButton);
